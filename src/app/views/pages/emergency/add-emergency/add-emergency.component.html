<kt-portlet>
	<kt-portlet-header
		[title]="getComponentTitle()"
		[class]="'kt-portlet__head--lg'"
		[viewLoading$]="loading$"
	>
		<ng-container ktPortletTools>
			<a
				[routerLink]="['/emergency']"
				class="btn btn-secondary kt-margin-r-10"
				mat-raised-button
			>
				<i class="la la-arrow-left"></i>
				<span class="kt-hidden-mobile">Back</span>
			</a>
			<button href="javascript:;" class="btn btn-primary kt-margin-r-10" color="primary" (click)="onSubmit(false)" [disabled]="loading">
				<span class="kt-hidden-mobile">Save</span>
			</button>
		</ng-container>
	</kt-portlet-header>

	<kt-portlet-body>
		<div *ngIf="emergency">
			<form
				[formGroup]="emergencyForm"
				class="kt-form kt-form--group-seperator-dashed"
			>
				<kt-alert
					*ngIf="hasFormErrors"
					type="warn"
					[showCloseButton]="true"
					[duration]="10000"
					(close)="onAlertClose($event)"
				>
					Oh snap! Change a few things up and try submitting again.
				</kt-alert>
				<div class="kt-form__section kt-form__section--first">
					<div class="form-group kt-form__group row">
						<div class="col-lg-6 kt-margin-bottom-20-mobile">
							<mat-form-field class="mat-form-field-fluid">
								<input
									matInput
									placeholder="User"
									formControlName="user"
									autocomplete="off"
									maxlength="50"
								/>
								<mat-error
									>User is
									<strong>required</strong>
								</mat-error>
							</mat-form-field>
						</div>
						<div class="col-lg-6 kt-margin-bottom-20-mobile">
							<mat-form-field class="mat-form-field-fluid">
								<input
									matInput
									[matDatepicker]="date"
									placeholder="Date"
									formControlName="created_date"
								/>
								<mat-error
									>Date is
									<strong>required</strong>
								</mat-error>
							</mat-form-field>
						</div>
					</div>
					<div class="form-group kt-form__group row">
						<div class="col-lg-6 kt-margin-bottom-20-mobile">
							<mat-form-field class="mat-form-field-fluid">
								<input
									matInput
									placeholder="Time"
									formControlName="time"
									autocomplete="off"
									maxlength="50"
								/>
								<mat-error
									>Time is
									<strong>required</strong>
								</mat-error>
							</mat-form-field>
						</div>
						<div class="col-lg-6 kt-margin-bottom-20-mobile">
							<mat-form-field class="mat-form-field-fluid">
								<input
									type="text"
									matInput
									placeholder="Notes"
									formControlName="remark"
								/>
								<mat-error
									>Fill input by selecting the given
									items</mat-error
								>
								<!-- <div *ngIf="loading.block" class="form-loader">
										<mat-spinner [diameter]="20"></mat-spinner>
									</div> -->
							</mat-form-field>
						</div>
					</div>
				</div>
			</form>
		</div>
	</kt-portlet-body>
</kt-portlet>
